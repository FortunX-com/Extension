"use strict";(self.webpackChunkthanx_dashboard=self.webpackChunkthanx_dashboard||[]).push([[665],{8665:(V,C,i)=>{i.r(C),i.d(C,{TransactionsModule:()=>j});var d=i(9808),w=i(6816),r=i(1083),b=i(5270),Q=i(3352),t=i(5e3),L=i(5089),g=i(655),u=i(8684);let m=(()=>{class a{constructor(){this.listItemsCount=10}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})();var h=i(323),v=i(2348),f=i(8805),y=i(834),I=i(4987),_=i(1542),P=i(6079),S=i(9105),T=i(5749),M=i(5107),x=i(8343),O=i(7752);function J(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"mat-paginator",7),t.NdJ("page",function(s){t.CHM(n);const c=t.oxw(2);return t.KtG(c.onPaginatorChange(s))}),t.qZA()}if(2&a){const n=t.oxw(2);t.Q6J("length",(null==n.transactions?null:n.transactions.total)||0)("pageSize",n.globalService.listItemsCount)("hidePageSize",!0)("pageIndex",n.paginationIndex||0)}}function R(a,e){if(1&a){const n=t.EpF();t.ynx(0),t.TgZ(1,"thanx-transactions-list",4),t.NdJ("outputOnItemClick",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.onTransactionItemClick(s))}),t.qZA(),t.YNc(2,J,1,4,"mat-paginator",5),t.TgZ(3,"thanx-transaction-item-details-modal",6),t.NdJ("outputOnOkClick",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openTransactionModal=!1)}),t.qZA(),t.BQk()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("transactions",n.transactions.items)("listType",0),t.xp6(1),t.Q6J("ngIf",(null==n.transactions||null==n.transactions.items?null:n.transactions.items.length)>0&&n.transactions.total>n.globalService.listItemsCount),t.xp6(1),t.Q6J("transaction",n.transaction)("isOpen",n.openTransactionModal)("isTransactionHistory",!0)}}function A(a,e){if(1&a&&(t.TgZ(0,"view-card"),t._UZ(1,"thanx-component-loading",8),t.qZA()),2&a){const n=t.oxw();t.Udp("margin","0 1.5em"),t.xp6(1),t.Udp("width","100%"),t.Q6J("itemsCount",10)("listType",n.enumLoadingComponentListType.LIST)("showItemWrapperBox",!1)("type",n.enumLoadingComponentType.STORE_FULL_WIDTH_47)}}const D=function(){return["/transactions/deposits"]};let l=class{constructor(e,n,o,s,c){this.globalService=e,this._transactionsApiService=n,this._activatedRoute=o,this._router=s,this._navigationService=c,this.prevQueryParams={}}get enumLoadingComponentType(){return f.R}get enumLoadingComponentListType(){return y.O}ngOnInit(){this.prepareStaticData(),this.prepareListeners(),this.prepareAPIData()}prepareListeners(){this._navigationService.observeRouteQueryParamsChanged(this._activatedRoute).subscribe(e=>this.onRouteQueryParamChange(e))}onRouteQueryParamChange(e){this.prevQueryParams.start!==e.start&&(this.prevQueryParams=e,this.prepareAPIData())}prepareAPIData(){const e=this._navigationService.getQueryParmaByKey(this._activatedRoute,"start");this._transactionsApiService.getDeposits(this.globalService.listItemsCount,e).subscribe(n=>this.transactions=n)}onPaginatorChange(e){this.paginationIndex=e.pageIndex,this._navigationService.navigate(this._router,[],0!==e.pageIndex?{queryParams:{start:""+e.pageIndex*this.globalService.listItemsCount}}:{})}onTransactionItemClick(e){this.openTransactionModal=!0,this.transaction=e}prepareStaticData(){const e=this._navigationService.getQueryParams(this._activatedRoute);(0,v.gZ)(e)||this.onInitQueryParams(e)}onInitQueryParams(e){this.prevQueryParams=this._navigationService.getQueryParams(this._activatedRoute),e.start&&this.preparePaginatorInitIndex(e.start)}preparePaginatorInitIndex(e){this.paginationIndex=Math.floor(e/this.globalService.listItemsCount)}};function Z(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"mat-paginator",7),t.NdJ("page",function(s){t.CHM(n);const c=t.oxw(2);return t.KtG(c.onPaginatorChange(s))}),t.qZA()}if(2&a){const n=t.oxw(2);t.Q6J("length",(null==n.transactions?null:n.transactions.total)||0)("pageSize",n.globalService.listItemsCount)("hidePageSize",!0)("pageIndex",n.paginationIndex||0)}}function k(a,e){if(1&a){const n=t.EpF();t.ynx(0),t.TgZ(1,"thanx-transactions-list",4),t.NdJ("outputOnItemClick",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.onTransactionItemClick(s))}),t.qZA(),t.YNc(2,Z,1,4,"mat-paginator",5),t.TgZ(3,"thanx-transaction-item-details-modal",6),t.NdJ("outputOnOkClick",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openTransactionModal=!1)}),t.qZA(),t.BQk()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("transactions",n.transactions.items)("listType",1),t.xp6(1),t.Q6J("ngIf",(null==n.transactions||null==n.transactions.items?null:n.transactions.items.length)>0&&n.transactions.total>n.globalService.listItemsCount),t.xp6(1),t.Q6J("transaction",n.transaction)("isOpen",n.openTransactionModal)}}function W(a,e){if(1&a&&(t.TgZ(0,"view-card"),t._UZ(1,"thanx-component-loading",8),t.qZA()),2&a){const n=t.oxw();t.Udp("margin","0 1.5em"),t.xp6(1),t.Udp("width","100%"),t.Q6J("itemsCount",10)("listType",n.enumLoadingComponentListType.LIST)("showItemWrapperBox",!1)("type",n.enumLoadingComponentType.STORE_FULL_WIDTH_47)}}l.\u0275fac=function(e){return new(e||l)(t.Y36(m),t.Y36(u.I),t.Y36(r.gz),t.Y36(r.F0),t.Y36(h.f))},l.\u0275cmp=t.Xpm({type:l,selectors:[["thanx-deposits"]],inputs:{isSummery:"isSummery"},decls:5,vars:6,consts:[["id","back-btn"],[3,"title","actionName","actionRouterLink"],[4,"ngIf","ngIfElse"],["showListLoading",""],["id","transactions-list",3,"transactions","listType","outputOnItemClick"],["aria-label","Select page",3,"length","pageSize","hidePageSize","pageIndex","page",4,"ngIf"],[3,"transaction","isOpen","isTransactionHistory","outputOnOkClick"],["aria-label","Select page",3,"length","pageSize","hidePageSize","pageIndex","page"],[3,"itemsCount","listType","showItemWrapperBox","type"]],template:function(e,n){if(1&e&&(t._UZ(0,"thanx-back-button",0)(1,"thanx-title-action",1),t.YNc(2,R,4,6,"ng-container",2),t.YNc(3,A,2,8,"ng-template",null,3,t.W1O)),2&e){const o=t.MAs(4);t.xp6(1),t.Q6J("title","Deposits")("actionName",n.isSummery?"See All":void 0)("actionRouterLink",n.isSummery?t.DdM(5,D):void 0),t.xp6(1),t.Q6J("ngIf",(null==n.transactions||null==n.transactions.items?null:n.transactions.items.length)>0)("ngIfElse",o)}},dependencies:[d.O5,_.y,P.Y,S.n,T.J,M.i,x.NW,O.V],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:2em 0}#transactions-list[_ngcontent-%COMP%]{background-color:#fff;padding:1.5em;border-radius:35px;box-shadow:0 0 9.5px .5px #00000005,0 5px 50px #0000000d}#back-btn[_ngcontent-%COMP%]{margin-bottom:1.8em}@media all and (max-width: 480px){#transactions-list[_ngcontent-%COMP%]{margin:0 1.5em}#back-btn[_ngcontent-%COMP%]{margin:0 1.5em 1.8em}}@media all and (max-width: 768px){#transactions-list[_ngcontent-%COMP%]{margin:0 1.5em}#back-btn[_ngcontent-%COMP%]{margin:0 1.5em 1.8em}}"]}),l=(0,g.gn)([(0,I.c)({checkProperties:!0}),(0,g.w6)("design:paramtypes",[m,u.I,r.gz,r.F0,h.f])],l);const z=function(){return["/transactions/withdrawals"]};let p=class{constructor(e,n,o,s,c){this.globalService=e,this._transactionsApiService=n,this._activatedRoute=o,this._router=s,this._navigationService=c,this.prevQueryParams={}}get enumLoadingComponentType(){return f.R}get enumLoadingComponentListType(){return y.O}ngOnInit(){this.prepareStaticData(),this.prepareListeners(),this.prepareAPIData()}prepareListeners(){this._navigationService.observeRouteQueryParamsChanged(this._activatedRoute).subscribe(e=>this.onRouteQueryParamChange(e))}onRouteQueryParamChange(e){this.prevQueryParams.start!==e.start&&(this.prevQueryParams=e,this.prepareAPIData())}prepareAPIData(){const e=this._navigationService.getQueryParmaByKey(this._activatedRoute,"start");this._transactionsApiService.getWithdrawals(this.globalService.listItemsCount,e).subscribe(n=>this.transactions=n)}onPaginatorChange(e){this.paginationIndex=e.pageIndex,this._navigationService.navigate(this._router,[],0!==e.pageIndex?{queryParams:{start:""+e.pageIndex*this.globalService.listItemsCount}}:{})}onTransactionItemClick(e){this.openTransactionModal=!0,this.transaction=e}prepareStaticData(){const e=this._navigationService.getQueryParams(this._activatedRoute);(0,v.gZ)(e)||this.onInitQueryParams(e)}onInitQueryParams(e){this.prevQueryParams=this._navigationService.getQueryParams(this._activatedRoute),e.start&&this.preparePaginatorInitIndex(e.start)}preparePaginatorInitIndex(e){this.paginationIndex=Math.floor(e/this.globalService.listItemsCount)}};p.\u0275fac=function(e){return new(e||p)(t.Y36(m),t.Y36(u.I),t.Y36(r.gz),t.Y36(r.F0),t.Y36(h.f))},p.\u0275cmp=t.Xpm({type:p,selectors:[["thanx-withdrawals"]],inputs:{isSummery:"isSummery"},decls:5,vars:6,consts:[["id","back-btn"],[3,"title","actionName","actionRouterLink"],[4,"ngIf","ngIfElse"],["showListLoading",""],["id","transactions-list",3,"transactions","listType","outputOnItemClick"],["aria-label","Select page",3,"length","pageSize","hidePageSize","pageIndex","page",4,"ngIf"],[3,"transaction","isOpen","outputOnOkClick"],["aria-label","Select page",3,"length","pageSize","hidePageSize","pageIndex","page"],[3,"itemsCount","listType","showItemWrapperBox","type"]],template:function(e,n){if(1&e&&(t._UZ(0,"thanx-back-button",0)(1,"thanx-title-action",1),t.YNc(2,k,4,5,"ng-container",2),t.YNc(3,W,2,8,"ng-template",null,3,t.W1O)),2&e){const o=t.MAs(4);t.xp6(1),t.Q6J("title","Withdrawals")("actionName",n.isSummery?"See All":void 0)("actionRouterLink",n.isSummery?t.DdM(5,z):void 0),t.xp6(1),t.Q6J("ngIf",(null==n.transactions||null==n.transactions.items?null:n.transactions.items.length)>0)("ngIfElse",o)}},dependencies:[d.O5,_.y,P.Y,S.n,T.J,M.i,x.NW,O.V],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:2em 0}#transactions-list[_ngcontent-%COMP%]{background-color:#fff;padding:1.5em;border-radius:35px;box-shadow:0 0 9.5px .5px #00000005,0 5px 50px #0000000d}#back-btn[_ngcontent-%COMP%]{margin-bottom:1.8em}@media all and (max-width: 480px){#transactions-list[_ngcontent-%COMP%]{margin:0 1.5em}#back-btn[_ngcontent-%COMP%]{margin:0 1.5em 1.8em}}@media all and (max-width: 768px){#transactions-list[_ngcontent-%COMP%]{margin:0 1.5em}#back-btn[_ngcontent-%COMP%]{margin:0 1.5em 1.8em}}"]}),p=(0,g.gn)([(0,I.c)({checkProperties:!0}),(0,g.w6)("design:paramtypes",[m,u.I,r.gz,r.F0,h.f])],p);const Y=[{path:"",component:(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["thanx-transactions"]],features:[t._Bn([m])],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},dependencies:[r.lC]}),a})(),children:[{path:"",component:(()=>{class a{constructor(n,o){this.deviceService=n,this._userService=o}ngOnInit(){this.prepareListeners()}prepareListeners(){}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Q.U),t.Y36(b.Q))},a.\u0275cmp=t.Xpm({type:a,selectors:[["thanx-main"]],decls:4,vars:4,consts:[["id","transactions-wrapper"],["id","deposits",3,"isSummery"],[3,"width","height"],["id","withdrawals",3,"isSummery"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"thanx-deposits",1)(2,"view-delimiter",2)(3,"thanx-withdrawals",3),t.qZA()),2&n&&(t.xp6(1),t.Q6J("isSummery",!0),t.xp6(1),t.Q6J("width","2em")("height","2em"),t.xp6(1),t.Q6J("isSummery",!0))},dependencies:[L.s,l,p],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:2em 0}#transactions-wrapper[_ngcontent-%COMP%]{display:flex}#transactions-wrapper[_ngcontent-%COMP%]   #deposits[_ngcontent-%COMP%], #transactions-wrapper[_ngcontent-%COMP%]   #withdrawals[_ngcontent-%COMP%]{flex:1;padding:0}@media all and (max-width: 480px){[_nghost-%COMP%]{display:block;padding:2em 0}#transactions-wrapper[_ngcontent-%COMP%]{flex-direction:column}}@media all and (max-width: 768px){[_nghost-%COMP%]{display:block;padding:2em 0}#transactions-wrapper[_ngcontent-%COMP%]{flex-direction:column}}"]}),a})()},{path:"deposits",component:l},{path:"withdrawals",component:p}]}];let F=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[r.Bz.forChild(Y),r.Bz]}),a})();var H=i(2458),N=i(6600),B=i(5245);let U=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.ez,B.Ps]}),a})();var E=i(8388),G=i(1922),K=i(6251),X=i(3358);let j=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.ez,w.m,F,H.u,N.p,U,E.X,G.n,K.s,x.TU,X.V]}),a})()}}]);