"use strict";(self.webpackChunkthanx_dashboard=self.webpackChunkthanx_dashboard||[]).push([[855],{4855:(_t,E,c)=>{c.r(E),c.d(E,{LoginModule:()=>ht});var l=c(9808),m=c(1083),r=c(7928),_=c(655),L=c(7579),y=c(9751),d=c(8188),v=c(4987),e=c(5e3);let g=class{constructor(i){this._httpApiService=i,this.subjectBackClick=new L.x,this.onBackClick$=this.subjectBackClick.asObservable(),this.subjectLoggedIn=new L.x,this.onLoggedIn$=this.subjectLoggedIn.asObservable()}set options(i){this._options=i}get options(){return this._options}set design(i){this._design=i}get design(){return this._design}set visitToken(i){this._visitToken=i}get visitToken(){return this._visitToken}set currentPage(i){this._currentPage=i}get currentPage(){return this._currentPage}set previousPage(i){this._previousPage=i}get previousPage(){return this._previousPage}set initialUrl(i){this._initialUrl=i}get initialUrl(){return this._initialUrl}set signupForm(i){this._signupForm=i}get signupForm(){return this._signupForm}set signupType(i){this._signupType=i}get signupType(){return this._signupType}set verificationCode(i){this._verificationCode=i}get verificationCode(){return this._verificationCode}hideHeader(){this.options.hideHeader=!0}hideFooter(){this.options.hideFooter=!0}showHeader(){this.options.hideHeader=!1}showFooter(){this.options.hideFooter=!1}hideHeaderAndFooter(){this.hideHeader(),this.hideFooter()}showHeaderAndFooter(){this.showHeader(),this.showFooter()}doBackClick(){this.subjectBackClick.next(this.currentPage)}getSignupFormFields(){return this.options.signup.items[this.signupType].fields}sendLinkToEmail(i){return new y.y(t=>{this.getVisitToken().subscribe(o=>{o?this._httpApiService.forgotPasswordRequest(this.visitToken,i).subscribe(s=>{t.next(this._httpApiService.checkResponseExistence(s)&&s.success===d.Bq.SUCCESS)}):t.next(!1)})})}getVisitToken(){return new y.y(i=>{this._httpApiService.getVisitToken({pageAddress:"/signup"}).subscribe(t=>{this._httpApiService.checkResponseExistence(t)?(this.visitToken=t.result.visit_token,i.next(!0)):i.next(!1)})})}sendSignupCode(){return new y.y(i=>{const t=this.signupForm.get(this.getSignupFormFields().filter(o=>o.name.includes(this.signupType))[0].name).value;this.getVisitToken().subscribe(o=>{o?this._httpApiService.sendVerificationCodeToEmail(this.visitToken,t).subscribe(s=>{i.next(this._httpApiService.checkResponseExistence(s)&&s.success===d.Bq.SUCCESS)}):i.next(!1)})})}signup(){return new y.y(i=>{const t=this.getSignupFormFieldVal(this.getSignupFormFields().filter(s=>s.name.includes("email"))[0].name),o=this.getSignupFormFieldVal(this.getSignupFormFields().filter(s=>s.name.includes("password"))[0].name);this._httpApiService.register({email:t,visit_token:this.visitToken,first_name:this.getSignupFormFieldVal(this.getSignupFormFields().filter(s=>s.name.includes("firstname"))[0].name),last_name:this.getSignupFormFieldVal(this.getSignupFormFields().filter(s=>s.name.includes("lastname"))[0].name),password:o,verification_code:this.verificationCode}).subscribe(s=>{s.success===d.Bq.SUCCESS?this.login().subscribe(a=>i.next(a)):i.next(!1)})})}getSignupFormFieldVal(i){return this.signupForm.get(i).value}login(i,t){let o,s;return i&&t?(o=i,s=t):(o=this.getSignupFormFieldVal(this.getSignupFormFields().filter(a=>a.name.includes("email"))[0].name),s=this.getSignupFormFieldVal(this.getSignupFormFields().filter(a=>a.name.includes("password"))[0].name)),new y.y(a=>{this._httpApiService.login(o,s).subscribe(h=>{this._httpApiService.checkResponseExistence(h)?this._httpApiService.getUserData().subscribe(x=>{this._httpApiService.checkResponseExistence(x)&&(this.subjectLoggedIn.next(x),a.next(!0))}):a.next(!1)})})}};g.\u0275fac=function(i){return new(i||g)(e.LFG(d.OG))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac}),g=(0,_.gn)([(0,v.c)({checkProperties:!0}),(0,_.w6)("design:paramtypes",[d.OG])],g);var f=c(323),k=c(724),U=c(284);function z(n,i){if(1&n&&e._UZ(0,"view-image",8),2&n){const t=e.oxw();e.Q6J("src",t.globalService.design.logo)("imageSize","196@196")("defaultImage","./assets/images/pre-loaded-coin_pic.png")("imageToShowOnError","./assets/images/pre-loaded-coin_pic.png")}}function q(n,i){1&n&&(e.TgZ(0,"strong",9),e._uU(1,"Your Logo"),e.qZA())}function j(n,i){if(1&n&&(e.TgZ(0,"strong",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.globalService.design.home.title," ")}}function W(n,i){if(1&n&&(e.TgZ(0,"p",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.globalService.design.home.subTitle," ")}}function $(n,i){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,j,2,1,"strong",11),e.YNc(2,W,2,1,"p",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.globalService.design.home.title),e.xp6(1),e.Q6J("ngIf",t.globalService.design.home.subTitle)}}const J=function(n){return[n]};let K=(()=>{class n{constructor(t,o,s){this.globalService=t,this._router=o,this._navigationService=s}get enumPages(){return r.Y}ngOnInit(){this.prepareStaticData()}prepareStaticData(){this.globalService.currentPage=r.Y.HOME}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g),e.Y36(m.F0),e.Y36(f.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-login-home"]],decls:12,vars:19,consts:[["id","main",3,"centerVertical","centerHorizontal"],["id","cover-image",3,"src","imageSize","defaultImage","imageToShowOnError","width","height"],["class","logo",3,"src","imageSize","defaultImage","imageToShowOnError",4,"ngIf","ngIfElse"],["showProjectName",""],["id","title-wrapper",4,"ngIf"],[3,"routerLink"],["id","btn-sign-up"],["id","btn-log-in"],[1,"logo",3,"src","imageSize","defaultImage","imageToShowOnError"],[1,"logo"],["id","title-wrapper"],["id","title",4,"ngIf"],["id","sub-title",4,"ngIf"],["id","title"],["id","sub-title"]],template:function(t,o){if(1&t&&(e.TgZ(0,"view-column",0),e._UZ(1,"view-image",1),e.YNc(2,z,1,4,"view-image",2),e.YNc(3,q,2,0,"ng-template",null,3,e.W1O),e.YNc(5,$,3,2,"div",4),e.TgZ(6,"a",5)(7,"button",6),e._uU(8,"SIGN UP"),e.qZA()(),e.TgZ(9,"a",5)(10,"button",7),e._uU(11,"LOG IN"),e.qZA()()()),2&t){const s=e.MAs(4);e.Q6J("centerVertical","center")("centerHorizontal","center"),e.xp6(1),e.Udp("display",o.globalService.design.home.cover?"flex":"none"),e.Q6J("src",o.globalService.design.home.cover)("imageSize","72@72")("defaultImage","./assets/images/pre-loaded-coin_pic.png")("imageToShowOnError","./assets/images/pre-loaded-coin_pic.png")("width","100%")("height","auto"),e.xp6(1),e.Q6J("ngIf",o.globalService.design.logo)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",o.globalService.design.home.title||o.globalService.design.home.subTitle),e.xp6(1),e.Q6J("routerLink",e.VKq(15,J,o.enumPages.SIGN_UP)),e.xp6(3),e.Q6J("routerLink",e.VKq(17,J,o.enumPages.SIGN_IN))}},dependencies:[l.O5,m.yS,k.O,U.e],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}#main[_ngcontent-%COMP%]{height:100%;width:100%}#cover-image[_ngcontent-%COMP%]{margin-bottom:3em}.logo[_ngcontent-%COMP%]{margin-bottom:7em}#title-wrapper[_ngcontent-%COMP%]{width:100%;margin-bottom:2.5em;text-align:center}#title-wrapper[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-size:2.4em;color:#004366;margin-bottom:.2em}#title-wrapper[_ngcontent-%COMP%]   #sub-title[_ngcontent-%COMP%]{font-size:1.2em;color:#aaa;padding:0;margin:0}#btn-sign-up[_ngcontent-%COMP%], #btn-log-in[_ngcontent-%COMP%]{width:295px;height:48px;color:#fff;font-size:1.2em;background-color:#29b6ff;border-radius:35px;border:none;font-weight:700;margin-bottom:1.5em;cursor:pointer;transition:all .25s ease-in-out}#btn-sign-up[_ngcontent-%COMP%]:hover, #btn-log-in[_ngcontent-%COMP%]:hover{background-color:#004366;box-shadow:0 0 9.5px .5px #00000005,0 5px 50px #0000000d}#btn-log-in[_ngcontent-%COMP%]{color:#444;background-color:#f0faff}#btn-log-in[_ngcontent-%COMP%]:hover{background-color:#fff}"]}),n})();const V=["email","number"];var B=c(8028),te=c(767),T=c(2316),A=c(5089),F=c(5245),ie=c(1542),ne=c(8489),u=c(7725),p=c(3075),P=c(5188),I=c(7261),N=c(2348),M=c(9206),Y=c(2434),Z=c(7795);function oe(n,i){if(1&n&&(e.TgZ(0,"view-form-input",5),e._UZ(1,"input",6),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("formCtrlName",t.name)("icon",t.icon)("title",t.title)("options",o.formInputOptions),e.xp6(1),e.Q6J("type",t.type)("formControlName",t.name)("placeholder",t.placeholder)}}const se=function(n){return["../",n]};function re(n,i){if(1&n&&(e.TgZ(0,"a",7),e._uU(1," Forgot Password? "),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.VKq(1,se,t.enumPages.FORGOT_PASSWORD))}}let C=class{constructor(i,t,o,s,a){this.globalService=i,this._navigationService=t,this._httpApiService=o,this._snackBar=s,this.formBuilder=a,this.outputOnComplete=new e.vpe,this.submitBtnLoading=!1}get enumPages(){return r.Y}ngOnInit(){this.prepareStaticData(),this.buildForm()}buildForm(){const i=this.globalService.signupForm;if(i)this.form=i;else{const t={};this.item.fields.forEach(o=>{this.globalService.currentPage===r.Y.LOG_INTO_ACCOUNT&&o.hideInLogin||(t[o.name]=new p.NI(o.value||"",(0,P.r)(o.validators),(0,P.tt)(o.asyncValidators)))}),this.form=this.globalService.signupForm=this.formBuilder.group(t)}}onFormSubmit(i){i?this.sendVerificationCode():this._snackBar.open("Please, complete the form","OK",{duration:5e3})}sendVerificationCode(){const i=this.globalService.options;this.globalService.currentPage===r.Y.CREATE_ACCOUNT&&i.skipSignupCodeVerification||this.globalService.currentPage===r.Y.LOG_INTO_ACCOUNT&&i.skipLoginCodeVerification?this.outputOnComplete.emit():(this.submitBtnLoading=!0,this.globalService.sendSignupCode().subscribe(t=>{this.submitBtnLoading=!1,t&&this.outputOnComplete.emit()}))}prepareStaticData(){this.globalService.currentPage=this._navigationService.currentUrl.includes(r.Y.SIGN_UP)?r.Y.CREATE_ACCOUNT:r.Y.LOG_INTO_ACCOUNT,this.item=(0,N.jF)(this.globalService.options.signup.items[this.globalService.signupType]),this.prepareOptions(),this.manipulateFieldItems()}manipulateFieldItems(){this.globalService.currentPage===r.Y.LOG_INTO_ACCOUNT&&(this.item.fields=this.item.fields.filter(i=>!i.hideInLogin))}prepareOptions(){this.formInputOptions={card:{border:"1px solid #ccc",bgColor:"#fff",borderRadius:u.borderRadiusMedium,boxShadow:"0 2px 8px #eee"}},this.formOptions={submitBtnColor:{darkColor:u.colorPrimary,lightColor:u.colorPrimary}}}};C.\u0275fac=function(i){return new(i||C)(e.Y36(g),e.Y36(f.f),e.Y36(d.OG),e.Y36(I.ux),e.Y36(p.qu))},C.\u0275cmp=e.Xpm({type:C,selectors:[["view-login-create-account"]],outputs:{outputOnComplete:"outputOnComplete"},decls:6,vars:9,consts:[["id","main",3,"centerVertical","centerHorizontal"],["id","title"],["id","form",3,"formGroup","options","submitBtnText","submitBtnLoading","outputOnSubmit"],[3,"formCtrlName","icon","title","options",4,"ngFor","ngForOf"],["id","forgot-password",3,"routerLink",4,"ngIf"],[3,"formCtrlName","icon","title","options"],["directiveViewFormInput","",3,"type","formControlName","placeholder"],["id","forgot-password",3,"routerLink"]],template:function(i,t){1&i&&(e.TgZ(0,"view-column",0)(1,"strong",1),e._uU(2),e.qZA(),e.TgZ(3,"view-form",2),e.NdJ("outputOnSubmit",function(s){return t.onFormSubmit(s)}),e.YNc(4,oe,2,7,"view-form-input",3),e.qZA(),e.YNc(5,re,2,3,"a",4),e.qZA()),2&i&&(e.Q6J("centerVertical","center")("centerHorizontal","center"),e.xp6(2),e.hij(" ",t.globalService.currentPage===t.enumPages.CREATE_ACCOUNT?"Create Account":"Log Into Account"," "),e.xp6(1),e.Q6J("formGroup",t.form)("options",t.formOptions)("submitBtnText",t.globalService.currentPage===t.enumPages.CREATE_ACCOUNT?"Register":"log in")("submitBtnLoading",t.submitBtnLoading),e.xp6(1),e.Q6J("ngForOf",t.item.fields),e.xp6(1),e.Q6J("ngIf",t.globalService.currentPage===t.enumPages.LOG_INTO_ACCOUNT))},dependencies:[l.sg,l.O5,m.yS,U.e,M.I,Y.E,Z.d,p.Fj,p.JJ,p.JL,p.sg,p.u],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}#main[_ngcontent-%COMP%]{width:100%;height:100%}#main[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-size:2.4em;color:#004366;margin-bottom:1em}#main[_ngcontent-%COMP%]   #form[_ngcontent-%COMP%]{width:320px}#main[_ngcontent-%COMP%]   #forgot-password[_ngcontent-%COMP%]{margin-top:1em}"]}),C=(0,_.gn)([(0,v.c)({checkProperties:!0}),(0,_.w6)("design:paramtypes",[g,f.f,d.OG,I.ux,p.qu])],C);let ae=(()=>{class n{constructor(){this.outputOnComplete=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-login-log-into-account"]],outputs:{outputOnComplete:"outputOnComplete"},decls:1,vars:0,consts:[[3,"outputOnComplete"]],template:function(t,o){1&t&&(e.TgZ(0,"view-login-create-account",0),e.NdJ("outputOnComplete",function(a){return o.outputOnComplete.emit(a)}),e.qZA())},dependencies:[C]}),n})();var Q=c(7163);function ce(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",3),e._uU(2),e.qZA(),e._UZ(3,"view-delimiter",4),e.TgZ(4,"span",5),e._uU(5),e.qZA(),e._UZ(6,"view-delimiter",4),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("color",t.options.daysNumberColor),e.xp6(1),e.Oqu(t.d),e.xp6(1),e.Q6J("width","0.2em"),e.xp6(1),e.Udp("color",t.options.daysTextColor),e.xp6(1),e.Oqu(t.options.daysText),e.xp6(1),e.Q6J("width",t.delimiter)}}function le(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",3),e._uU(2),e.qZA(),e._UZ(3,"view-delimiter",4),e.TgZ(4,"span",5),e._uU(5),e.qZA(),e._UZ(6,"view-delimiter",4),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("color",t.options.hoursNumberColor),e.xp6(1),e.Oqu(t.h),e.xp6(1),e.Q6J("width","0.2em"),e.xp6(1),e.Udp("color",t.options.hoursTextColor),e.xp6(1),e.Oqu(t.options.hoursText),e.xp6(1),e.Q6J("width",t.delimiter)}}function pe(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",3),e._uU(2),e.qZA(),e._UZ(3,"view-delimiter",4),e.TgZ(4,"span",5),e._uU(5),e.qZA(),e._UZ(6,"view-delimiter",4),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("color",t.options.minutesNumberColor),e.xp6(1),e.Oqu(t.m),e.xp6(1),e.Q6J("width","0.2em"),e.xp6(1),e.Udp("color",t.options.minutesTextColor),e.xp6(1),e.Oqu(t.options.minutesText),e.xp6(1),e.Q6J("width",t.delimiter)}}function ge(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",3),e._uU(2),e.qZA(),e._UZ(3,"view-delimiter",4),e.TgZ(4,"span",5),e._uU(5),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("color",t.options.secondsNumberColor),e.xp6(1),e.Oqu(t.s),e.xp6(1),e.Q6J("width","0.2em"),e.xp6(1),e.Udp("color",t.options.secondsTextColor),e.xp6(1),e.Oqu(t.options.secondsText)}}function ue(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ce,7,8,"ng-container",2),e.YNc(2,le,7,8,"ng-container",2),e.YNc(3,pe,7,8,"ng-container",2),e.YNc(4,ge,6,7,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.days||0===t.days),e.xp6(1),e.Q6J("ngIf",t.hours||0===t.hours),e.xp6(1),e.Q6J("ngIf",t.minutes||0===t.minutes),e.xp6(1),e.Q6J("ngIf",t.seconds||0===t.seconds)}}function me(n,i){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Udp("color",t.options.finishTextColor),e.xp6(1),e.Oqu(t.options.finishText)}}let de=(()=>{class n{constructor(){this.delimiter="1em",this.autoStart=!1,this.onStart=new e.vpe,this.onFinish=new e.vpe,this.s="0",this.m="0",this.h="0",this.d="0",this.ifFinished=!1}set start(t){t&&(this.prepareInitValue(),this.prepareCountdown())}ngOnInit(){this.prepareStaticData(),this.autoStart&&this.prepareCountdown()}prepareCountdown(){this.ifFinished=!1,this.onStart.emit();let t=0;t+=(0,Q.VN)(),this.days&&(t+=60*this.days*60*24),this.hours&&(t+=60*this.hours*60),this.minutes&&(t+=60*this.minutes),this.seconds&&(t+=this.seconds);const o=setInterval(()=>{const s=(0,Q.VN)(),a=t-s;this.d=this.prefixZero(Math.floor(a/86400).toString()),this.h=this.prefixZero(Math.floor(a%86400/3600).toString()),this.m=this.prefixZero(Math.floor(a%3600/60).toString()),this.s=this.prefixZero(Math.floor(a%60).toString()),a<0&&(clearInterval(o),this.onFinish.emit(),this.ifFinished=!0)},1e3)}prefixZero(t){return+t<10&&this.options.doubleZero?"0"+t:t}prepareStaticData(){this.prepareOptions(),this.prepareInitValue()}prepareOptions(){this.options=Object.assign({daysText:"d",hoursText:"h",minutesText:"m",secondsText:"s",finishText:"FINISHED!",daysNumberColor:"#444",daysTextColor:"#aaa",hoursNumberColor:"#444",hoursTextColor:"#aaa",minutesNumberColor:"#444",minutesTextColor:"#aaa",secondsNumberColor:"#444",secondsTextColor:"#aaa",finishTextColor:"#444",doubleZero:!1},this.options)}prepareInitValue(){this.options.doubleZero&&(this.d=this.h=this.m=this.s="00")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-countdown"]],inputs:{options:"options",seconds:"seconds",minutes:"minutes",hours:"hours",days:"days",delimiter:"delimiter",autoStart:"autoStart",start:"start"},outputs:{onStart:"onStart",onFinish:"onFinish"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showFinishRef",""],[4,"ngIf"],[1,"number"],[3,"width"],[1,"label"],[1,"finish-text"]],template:function(t,o){if(1&t&&(e.YNc(0,ue,5,4,"ng-container",0),e.YNc(1,me,2,3,"ng-template",null,1,e.W1O)),2&t){const s=e.MAs(2);e.Q6J("ngIf",!o.ifFinished)("ngIfElse",s)}},dependencies:[l.O5,A.s],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:flex-end;direction:ltr}.number[_ngcontent-%COMP%]{color:#444}.label[_ngcontent-%COMP%]{font-size:.8em;color:#aaa;padding-bottom:1px}.finish-text[_ngcontent-%COMP%]{color:#444}"]}),n})();var he=c(3779);let _e=(()=>{class n{transform(t){return(0,he._J)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"pipeFirstCharUppercase",type:n,pure:!0}),n})(),fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function ve(n,i){if(1&n&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.associateVal)}}function Ce(n,i){if(1&n&&(e.TgZ(0,"view-form-input",9),e._UZ(1,"input",10),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("formCtrlName",t.name)("icon",t.icon)("title",t.title)("options",o.formInputOptions),e.xp6(1),e.Q6J("type",t.type)("formControlName",t.name)("placeholder",t.placeholder)}}let O=class{constructor(i,t,o,s){this.globalService=i,this._snackBar=t,this._httpApiService=o,this.formBuilder=s,this.outputOnComplete=new e.vpe,this.outputOnChangeInfo=new e.vpe,this.submitBtnLoading=!1,this.startCountdown=!0}get enumPages(){return r.Y}ngOnInit(){this.prepareStaticData(),this.buildForm()}buildForm(){const i={};this.item.fields.forEach(t=>{i[t.name]=new p.NI(t.value||"",(0,P.r)(t.validators),(0,P.tt)(t.asyncValidators))}),this.form=this.formBuilder.group(i)}onFormSubmit(i){i?this.sendCode():this._snackBar.open("Please, complete the form","OK",{duration:5e3})}sendCode(){this.submitBtnLoading=!0;const i=this.getFormFieldValue(this.globalService.getSignupFormFields().filter(t=>t.name.includes(this.globalService.signupType))[0].name);"email"===this.globalService.signupType&&(this.globalService.verificationCode=this.form.get("codeVerification").value,this._httpApiService.checkVerificationCodeToEmail(this.globalService.visitToken,i,this.form.get("codeVerification").value).subscribe(t=>{this.submitBtnLoading=!1,this._httpApiService.checkResponseExistence(t)&&t.success===d.Bq.SUCCESS&&this.outputOnComplete.emit()}))}onResendCode(){this.resendCode()}resendCode(){this.startCountdown=!0,this.form.reset(),this.globalService.sendSignupCode().subscribe(i=>{this.submitBtnLoading=!1,i&&this.outputOnComplete.emit()})}getFormFieldValue(i){return this.globalService.signupForm.get(i).value}prepareStaticData(){this.globalService.currentPage=r.Y.CODE_VERIFICATION,this.item=this.globalService.options.codeVerification,this.prepareDescription(),this.prepareOptions()}prepareOptions(){this.formInputOptions={card:{border:"1px solid #ccc",bgColor:"#fff",borderRadius:u.borderRadiusMedium,boxShadow:"0 2px 8px #eee"}},this.formOptions={submitBtnColor:{darkColor:u.colorPrimary,lightColor:u.colorPrimary}},this.countdownOptions={finishText:"Resend Code",finishTextColor:u.colorPrimary,minutesText:":",minutesTextColor:u.colorPrimaryDarker,minutesNumberColor:u.colorPrimary,secondsText:"",secondsTextColor:u.colorPrimaryDarker,secondsNumberColor:u.colorPrimary,doubleZero:!0}}prepareDescription(){this.signupType=this.globalService.signupType;const i=this.globalService.signupForm.controls;i[this.signupType]?this.associateVal=i[this.signupType].value:Object.keys(i).some(t=>{if(t.includes(this.signupType))return this.associateVal=i[t].value,!0}),this.descriptionText="We've sent a verification code to this "+this.signupType}};function we(n,i){1&n&&e._UZ(0,"view-delimiter",12),2&n&&e.Q6J("height","1em")}O.\u0275fac=function(i){return new(i||O)(e.Y36(g),e.Y36(I.ux),e.Y36(d.OG),e.Y36(p.qu))},O.\u0275cmp=e.Xpm({type:O,selectors:[["view-login-code-verification"]],outputs:{outputOnComplete:"outputOnComplete",outputOnChangeInfo:"outputOnChangeInfo"},decls:13,vars:18,consts:[["id","main",3,"centerVertical","centerHorizontal"],["id","title"],["id","description",3,"centerHorizontal"],["id","associatedVal",4,"ngIf"],["id","form",3,"formGroup","options","submitBtnText","submitBtnLoading","outputOnSubmit"],[3,"formCtrlName","icon","title","options",4,"ngFor","ngForOf"],["view-form-after-fields","","id","resend-code",3,"minutes","seconds","delimiter","options","start","onFinish","click"],["id","change-info",3,"click"],["id","associatedVal"],[3,"formCtrlName","icon","title","options"],["directiveViewFormInput","",3,"type","formControlName","placeholder"]],template:function(i,t){1&i&&(e.TgZ(0,"view-column",0)(1,"strong",1),e._uU(2,"Verification Code"),e.qZA(),e.TgZ(3,"view-column",2)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,ve,2,1,"div",3),e.qZA(),e.TgZ(7,"view-form",4),e.NdJ("outputOnSubmit",function(s){return t.onFormSubmit(s)}),e.YNc(8,Ce,2,7,"view-form-input",5),e.TgZ(9,"view-countdown",6),e.NdJ("onFinish",function(){return t.startCountdown=!1})("click",function(){return t.startCountdown?void 0:t.onResendCode()}),e.qZA()(),e.TgZ(10,"span",7),e.NdJ("click",function(){return t.outputOnChangeInfo.emit()}),e._uU(11),e.ALo(12,"pipeFirstCharUppercase"),e.qZA()()),2&i&&(e.Q6J("centerVertical","center")("centerHorizontal","center"),e.xp6(3),e.Q6J("centerHorizontal","center"),e.xp6(2),e.Oqu(t.descriptionText),e.xp6(1),e.Q6J("ngIf",t.associateVal),e.xp6(1),e.Q6J("formGroup",t.form)("options",t.formOptions)("submitBtnText","Submit")("submitBtnLoading",t.submitBtnLoading),e.xp6(1),e.Q6J("ngForOf",t.item.fields),e.xp6(1),e.Q6J("minutes",2)("seconds",0)("delimiter","0.2em")("options",t.countdownOptions)("start",t.startCountdown),e.xp6(2),e.hij("Change ",e.lcZ(12,16,t.signupType),""))},dependencies:[l.sg,l.O5,U.e,M.I,Y.E,Z.d,p.Fj,p.JJ,p.JL,p.sg,p.u,de,_e],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}#main[_ngcontent-%COMP%]{width:100%;height:100%}#main[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-size:2.4em;color:#004366;margin-bottom:.5em}#main[_ngcontent-%COMP%]   #description[_ngcontent-%COMP%]{margin-bottom:2em}#main[_ngcontent-%COMP%]   #description[_ngcontent-%COMP%]   #associatedVal[_ngcontent-%COMP%]{color:#29b6ff;padding:.3em .7em;border-radius:9px}#main[_ngcontent-%COMP%]   #form[_ngcontent-%COMP%]{width:320px;margin-bottom:1em}#main[_ngcontent-%COMP%]   #form[_ngcontent-%COMP%]   #resend-code[_ngcontent-%COMP%]{width:100%;display:flex;text-align:center;justify-content:center;margin-top:1em;cursor:pointer}#main[_ngcontent-%COMP%]   #change-info[_ngcontent-%COMP%]{color:#29b6ff;cursor:pointer}"]}),O=(0,_.gn)([(0,v.c)({checkProperties:!0}),(0,_.w6)("design:paramtypes",[g,I.ux,d.OG,p.qu])],O);const Se=function(n,i){return{$implicit:n,isSocial:!1,index:i}};function xe(n,i){if(1&n&&(e.ynx(0),e.GkF(1,10),e.YNc(2,we,1,1,"view-delimiter",11),e.BQk()),2&n){const t=i.$implicit,o=i.index;e.oxw(2);const s=e.MAs(7),a=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(3,Se,t,o)),e.xp6(1),e.Q6J("ngIf",o!==a.usualItems.length-1)}}function Oe(n,i){if(1&n&&(e.TgZ(0,"view-column",8),e.YNc(1,xe,3,6,"ng-container",9),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("centerHorizontal","center")("centerVertical","center"),e.xp6(1),e.Q6J("ngForOf",t.usualItems)}}function be(n,i){1&n&&(e.TgZ(0,"view-row",13)(1,"span",14),e._uU(2,"."),e.qZA(),e.TgZ(3,"span",15),e._uU(4," or "),e.qZA(),e.TgZ(5,"span",14),e._uU(6,"."),e.qZA()()),2&n&&e.Q6J("centerHorizontal","center")("centerVertical","center")}function Te(n,i){1&n&&e._UZ(0,"view-delimiter",12),2&n&&e.Q6J("height","1em")}const Pe=function(n,i){return{$implicit:n,isSocial:!0,index:i}};function Ie(n,i){if(1&n&&(e.ynx(0),e.GkF(1,10),e.YNc(2,Te,1,1,"view-delimiter",11),e.BQk()),2&n){const t=i.$implicit,o=i.index;e.oxw(2);const s=e.MAs(7),a=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(3,Pe,t,o)),e.xp6(1),e.Q6J("ngIf",o!==a.socialItems.length-1)}}function ye(n,i){if(1&n&&(e.TgZ(0,"view-column",16),e.YNc(1,Ie,3,6,"ng-container",9),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("centerHorizontal","center")("centerVertical","center"),e.xp6(1),e.Q6J("ngForOf",t.socialItems)}}function Ue(n,i){if(1&n&&(e.TgZ(0,"a",19),e.GkF(1,20),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.MAs(2);e.Q6J("routerLink",t.routerLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function ke(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.onMethodClick(s))}),e._UZ(1,"asl-google-signin-button",28)(2,"asl-google-signin-button",28),e.qZA()}2&n&&(e.xp6(1),e.Q6J("type","standard")("size","medium")("width","320px"),e.xp6(1),e.Q6J("type","standard")("size","medium")("width","320px"))}function Ae(n,i){if(1&n&&(e.TgZ(0,"mat-icon",29),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.icon)}}function Fe(n,i){if(1&n&&e._UZ(0,"view-image",30),2&n){const t=e.oxw(2).$implicit;e.Q6J("src",t.image)("imageSize","48@48")("defaultImage","./assets/images/pre-loaded-coin_pic.png")("imageToShowOnError","./assets/images/pre-loaded-coin_pic.png")("height","24px")}}function Ne(n,i){if(1&n){const t=e.EpF();e.YNc(0,ke,3,6,"div",21),e.TgZ(1,"view-card",22),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onMethodClick(s))}),e.YNc(2,Ae,2,1,"mat-icon",23),e.YNc(3,Fe,1,5,"view-image",24),e._UZ(4,"view-delimiter",25),e.TgZ(5,"strong",26),e._uU(6),e.qZA()()}if(2&n){const t=e.oxw(),o=t.isSocial,s=t.index,a=t.$implicit,h=e.oxw(2);e.Q6J("ngIf",o&&s===h.googleItemIndex),e.xp6(1),e.Udp("margin-top",o&&s===h.googleItemIndex?"-56px":"0")("pointer-events",o&&s===h.googleItemIndex?"none":"auto"),e.xp6(1),e.Q6J("ngIf",a.icon),e.xp6(1),e.Q6J("ngIf",a.image),e.xp6(1),e.Q6J("width","0.7em"),e.xp6(2),e.Oqu(a.text)}}function Me(n,i){if(1&n&&(e.YNc(0,Ue,2,2,"a",17),e.YNc(1,Ne,7,9,"ng-template",null,18,e.W1O)),2&n){const t=i.$implicit,o=e.MAs(2);e.Q6J("ngIf",t.routerLink)("ngIfElse",o)}}function Ye(n,i){if(1&n&&(e.TgZ(0,"view-column",2)(1,"strong",3),e._uU(2),e.qZA(),e.YNc(3,Oe,2,3,"view-column",4),e.YNc(4,be,7,2,"view-row",5),e.YNc(5,ye,2,3,"view-column",6),e.YNc(6,Me,3,2,"ng-template",null,7,e.W1O),e.qZA()),2&n){const t=e.oxw();e.Q6J("centerHorizontal","center")("centerVertical","center"),e.xp6(2),e.Oqu(t.navigationService.currentUrl.includes(t.enumPages.SIGN_UP)?"Sign up":"Log in"),e.xp6(1),e.Q6J("ngIf",t.usualItems&&t.usualItems.length>0),e.xp6(1),e.Q6J("ngIf",t.usualItems&&t.usualItems.length>0&&t.socialItems&&t.socialItems.length>0),e.xp6(1),e.Q6J("ngIf",t.socialItems&&t.socialItems.length>0)}}function Ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"view-login-create-account",34),e.NdJ("outputOnComplete",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onSendVerificationCodeFinished())}),e.qZA()}}function Ee(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"view-login-log-into-account",34),e.NdJ("outputOnComplete",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onSendVerificationCodeFinished())}),e.qZA()}}function Le(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"view-login-code-verification",35),e.NdJ("outputOnComplete",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onSendVerificationCodeFinished())})("outputOnChangeInfo",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openNewPage(s.navigationService.currentUrl.includes(s.enumPages.SIGN_UP)?s.enumPages.CREATE_ACCOUNT:s.enumPages.LOG_INTO_ACCOUNT))}),e.qZA()}}function Je(n,i){if(1&n&&(e.ynx(0,31),e.YNc(1,Ze,1,0,"view-login-create-account",32),e.YNc(2,Ee,1,0,"view-login-log-into-account",32),e.YNc(3,Le,1,0,"view-login-code-verification",33),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.globalService.currentPage),e.xp6(1),e.Q6J("ngSwitchCase",t.enumPages.CREATE_ACCOUNT),e.xp6(1),e.Q6J("ngSwitchCase",t.enumPages.LOG_INTO_ACCOUNT),e.xp6(1),e.Q6J("ngSwitchCase",t.enumPages.CODE_VERIFICATION)}}let w=class{constructor(i,t,o,s,a,h,x){this.globalService=i,this.navigationService=t,this.location=o,this._setTimeOutService=s,this._router=a,this._authService=h,this._location=x,this.CLIENT_ID=encodeURIComponent("39029048073-7pq26147ts917og78qa9up0tfilrubdf.apps.googleusercontent.com"),this.REDIRECT_URI=encodeURIComponent("https://jjkhpfdoneameflfgjhagediadjdbeib.chromiumapp.org"),this.SCOPES=encodeURIComponent(["https://www.googleapis.com/auth/contacts.readonly"].join(" ")),this.usualItems=[],this.socialItems=[],this.user=new T.xs}get enumPages(){return r.Y}onPopState(i){this.handleBackward(this.globalService.currentPage)}ngOnInit(){this.prepareStaticData(),this.prepareListeners(),this.skipToNextComponent()}prepareListeners(){this.onBackClick(),this.onGoogleLogin()}onBackClick(){this.subscriptionBackClick=this.globalService.onBackClick$.pipe((0,v.t)(this)).subscribe(i=>{this.handleBackward(i)})}onGoogleLogin(){this._authService.authState.subscribe(i=>{this.user=i,this.login(this.user.email,"@token_google__"+this.user.idToken)})}handleBackward(i){switch(history.pushState(null,null,window.location.href),i){case r.Y.SIGN_UP:case r.Y.SIGN_IN:this._setTimeOutService.setTimeOut(()=>this.navigationService.navigate(this._router,[this.globalService.initialUrl]));break;case r.Y.CREATE_ACCOUNT:this.openNewPage(r.Y.SIGN_UP);break;case r.Y.LOG_INTO_ACCOUNT:this.openNewPage(r.Y.SIGN_IN);break;case r.Y.CODE_VERIFICATION:this.openNewPage(r.Y.CREATE_ACCOUNT)}}skipToNextComponent(){this.usualItems.length+this.socialItems.length===1&&0===this.socialItems.length&&(this.globalService.signupType=this.globalService.options.signup.types[0],this.openNewPage(this.globalService.currentPage===r.Y.SIGN_UP?r.Y.CREATE_ACCOUNT:r.Y.LOG_INTO_ACCOUNT))}onMethodClick(i){this.globalService.signupForm=void 0;const t=Object.keys(this.signupData.items).filter(a=>this.signupData.items[a]===i)[0];this.globalService.signupType=t;const o=this.globalService.currentPage;let s;switch(t){case"email":case"number":s=o===r.Y.SIGN_UP?r.Y.CREATE_ACCOUNT:r.Y.LOG_INTO_ACCOUNT;break;case"google":s=null,this.googleAuth();break;case"facebook":s=null,this.facebookAuth();break;case"apple":s=null,this.appleAuth();break;case"tronlink":s=null,this.tronLinkAuth();break;case"trustwallet":s=null,this.trustWalletAuth()}s&&this.openNewPage(s)}googleAuth(){console.log("clicked on google button"),chrome.runtime&&(console.log("clicked on google button - in chrome condition"),chrome.identity.launchWebAuthFlow({url:this.createAuthEndpoint(),interactive:!0},function(i){console.log(i)}))}createAuthEndpoint(){return encodeURIComponent(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),`https://accounts.google.com/o/oauth2/v2/auth\n            ?client_id=${this.CLIENT_ID}\n            &response_type=id_token\n            &access_type=offline\n            &redirect_uri=${this.REDIRECT_URI}\n            &scope=${this.SCOPES}`}appleAuth(){}tronLinkAuth(){}trustWalletAuth(){}facebookAuth(){this._authService.signIn(T.LP.PROVIDER_ID).then()}onSendVerificationCodeFinished(){const i=this.globalService.options;switch(this.globalService.currentPage){case r.Y.CREATE_ACCOUNT:i.skipSignupCodeVerification?this.signup():this.openNewPage(r.Y.CODE_VERIFICATION);break;case r.Y.LOG_INTO_ACCOUNT:i.skipLoginCodeVerification?this.login():this.openNewPage(r.Y.CODE_VERIFICATION);break;case r.Y.CODE_VERIFICATION:this.navigationService.currentUrl.includes(r.Y.SIGN_UP)?this.signup():this.login()}}signup(){this.globalService.signup().subscribe(i=>{i&&this.navigateParentPage()})}login(i,t){this.globalService.login(i,t).subscribe(o=>{o&&this.navigateParentPage()})}openNewPage(i){this.globalService.currentPage=i}navigateParentPage(){this.navigationService.navigate(this._router,(0,te.y5)(this.globalService.initialUrl,["auth","signup","login"])?["/"]:[this.globalService.initialUrl])}prepareStaticData(){history.pushState(null,null,window.location.href),this.globalService.currentPage=this.navigationService.currentUrl.includes(r.Y.SIGN_UP)?r.Y.SIGN_UP:r.Y.SIGN_IN,this.prepareSignupItems()}prepareSignupItems(){this.signupData=this.globalService.options.signup;const i=this.navigationService.currentUrl;let t=-1;this.signupData.types.forEach((o,s)=>{const a=this.signupData.items[o],h=a.text;a.text=i.includes(r.Y.SIGN_UP)?h.replace("Log in","Sign up"):h.replace("Sign up","Log in"),V.includes(o)?this.usualItems.push(a):(t++,this.socialItems.push(a),"google"===o&&(this.googleItemIndex=t))})}};w.\u0275fac=function(i){return new(i||w)(e.Y36(g),e.Y36(f.f),e.Y36(l.S$),e.Y36(B.C),e.Y36(m.F0),e.Y36(T.xE),e.Y36(l.Ye))},w.\u0275cmp=e.Xpm({type:w,selectors:[["view-login-sign-up"]],hostBindings:function(i,t){1&i&&e.NdJ("popstate",function(s){return t.onPopState(s)},!1,e.Jf7)},decls:3,vars:2,consts:[["id","main",3,"centerHorizontal","centerVertical",4,"ngIf","ngIfElse"],["showNextPage",""],["id","main",3,"centerHorizontal","centerVertical"],["id","title"],["class","signup-items-wrapper",3,"centerHorizontal","centerVertical",4,"ngIf"],["class","signup-type-divider",3,"centerHorizontal","centerVertical",4,"ngIf"],["class","signup-items-wrapper social-signup-items-wrapper",3,"centerHorizontal","centerVertical",4,"ngIf"],["itemRef",""],[1,"signup-items-wrapper",3,"centerHorizontal","centerVertical"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"height",4,"ngIf"],[3,"height"],[1,"signup-type-divider",3,"centerHorizontal","centerVertical"],[1,"line"],[1,"or"],[1,"signup-items-wrapper","social-signup-items-wrapper",3,"centerHorizontal","centerVertical"],[3,"routerLink",4,"ngIf","ngIfElse"],["itemTempRef",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["id","google-social-wrapper",3,"click",4,"ngIf"],[1,"signup-item",3,"click"],["class","sign-item-icon",4,"ngIf"],[3,"src","imageSize","defaultImage","imageToShowOnError","height",4,"ngIf"],[3,"width"],[1,"sign-item-text"],["id","google-social-wrapper",3,"click"],[1,"google-social-item",3,"type","size","width"],[1,"sign-item-icon"],[3,"src","imageSize","defaultImage","imageToShowOnError","height"],[3,"ngSwitch"],[3,"outputOnComplete",4,"ngSwitchCase"],[3,"outputOnComplete","outputOnChangeInfo",4,"ngSwitchCase"],[3,"outputOnComplete"],[3,"outputOnComplete","outputOnChangeInfo"]],template:function(i,t){if(1&i&&(e.YNc(0,Ye,8,6,"view-column",0),e.YNc(1,Je,4,4,"ng-template",null,1,e.W1O)),2&i){const o=e.MAs(2);e.Q6J("ngIf",t.globalService.currentPage===t.enumPages.SIGN_IN||t.globalService.currentPage===t.enumPages.SIGN_UP)("ngIfElse",o)}},dependencies:[l.sg,l.O5,l.tP,l.RF,l.n9,m.yS,k.O,A.s,F.Hw,U.e,ie.y,ne.L,T.TI,C,ae,O],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}#main[_ngcontent-%COMP%]{height:100%;width:100%}#title[_ngcontent-%COMP%]{font-size:2.4em;color:#004366;margin-bottom:1em}.signup-items-wrapper[_ngcontent-%COMP%]   .signup-item[_ngcontent-%COMP%]{width:320px;padding:.8em 1em;border-radius:18px;border:1px solid #ccc;box-shadow:0 2px 8px #eee;cursor:pointer;transition:all .25s ease-in-out}.signup-items-wrapper[_ngcontent-%COMP%]   .signup-item[_ngcontent-%COMP%]:hover{border:1px solid #eee;box-shadow:0 2px 15px #eee}.signup-items-wrapper[_ngcontent-%COMP%]   .signup-item[_ngcontent-%COMP%]:hover   .sign-item-text[_ngcontent-%COMP%]{color:#29b6ff}.signup-items-wrapper[_ngcontent-%COMP%]   .signup-item[_ngcontent-%COMP%]   .sign-item-icon[_ngcontent-%COMP%]{width:22px;height:22px;font-size:22px}.signup-items-wrapper[_ngcontent-%COMP%]   .signup-item[_ngcontent-%COMP%]   .sign-item-text[_ngcontent-%COMP%]{flex:1;font-size:1.2em;color:#444;text-align:center;transition:all .25s ease-in-out}.signup-items-wrapper[_ngcontent-%COMP%]   #google-social-wrapper[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:56px;border-radius:18px;overflow:hidden;cursor:pointer}.signup-items-wrapper[_ngcontent-%COMP%]   #google-social-wrapper[_ngcontent-%COMP%]   .google-social-item[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center}.signup-items-wrapper[_ngcontent-%COMP%]   #google-social-wrapper[_ngcontent-%COMP%]   .google-social-item[_ngcontent-%COMP%]:nth-child(1){position:absolute;left:0;right:0;margin:auto;top:0}.signup-items-wrapper[_ngcontent-%COMP%]   #google-social-wrapper[_ngcontent-%COMP%]   .google-social-item[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;right:0;margin:auto;bottom:0}.social-signup-items-wrapper[_ngcontent-%COMP%]{margin-bottom:2.5em}.signup-type-divider[_ngcontent-%COMP%]{width:90%;margin:2em auto}.signup-type-divider[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{flex:1;color:transparent;background:#ccc;height:1px}.signup-type-divider[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]{color:#ccc;margin:0 1.5em}"]}),w=(0,_.gn)([(0,v.c)(),(0,_.w6)("design:paramtypes",[g,f.f,l.S$,B.C,m.F0,T.xE,l.Ye])],w);let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-login-sign-in"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"view-login-sign-up")},dependencies:[w]}),n})();function Be(n,i){if(1&n&&(e.TgZ(0,"view-form-input",7),e._UZ(1,"input",8),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("formCtrlName",t.name)("icon",t.icon)("title",t.title)("options",o.formInputOptions),e.xp6(1),e.Q6J("type",t.type)("formControlName",t.name)("placeholder",t.placeholder)}}function Qe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Be,2,7,"view-form-input",6),e.BQk()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.changePasswordMode?!t.name.includes("email"):t.name.includes("email"))}}const Ge=function(n){return["../",n]};let S=class{constructor(i,t,o,s,a,h,x){this.globalService=i,this._snackBar=t,this._navigationService=o,this._httpApiService=s,this._activatedRoute=a,this._router=h,this.formBuilder=x,this.submitBtnLoading=!1,this.changePasswordMode=!1}get enumPages(){return r.Y}ngOnInit(){this.prepareStaticData(),this.buildForm()}buildForm(){const i={};this.item.fields.filter(t=>this.changePasswordMode?!t.name.includes("email"):t.name.includes("email")).forEach(t=>{i[t.name]=new p.NI(t.value||"",(0,P.r)(t.validators),(0,P.tt)(t.asyncValidators))}),this.form=this.formBuilder.group(i)}onFormSubmit(i){i?this.changePasswordMode?this.changePassword():this.sendLinkToEmail():this._snackBar.open("Please, complete the form","OK",{duration:5e3})}sendLinkToEmail(){this.submitBtnLoading=!0;const i=this.item.fields.filter(t=>t.name.includes("email"))[0].name;this.globalService.sendLinkToEmail(this.getFormFieldValue(i)).subscribe(t=>{this.submitBtnLoading=!1,t||this._snackBar.open("Please try again later","OK",{duration:5e3})})}changePassword(){this.submitBtnLoading=!0;const i=this.item.fields.filter(t=>t.name.includes("pass"))[0].name;this._httpApiService.doChangePassword(this.changePassToken.visit_token,this.changePassToken.change_password_token,this.getFormFieldValue(i)).subscribe(t=>{this.submitBtnLoading=!1,this._httpApiService.checkResponseExistence(t)&&this._navigationService.navigate(this._router,["auth",r.Y.SIGN_IN])})}getFormFieldValue(i){return this.globalService.signupForm.get(i).value}prepareStaticData(){this.changePasswordMode=this._navigationService.currentUrl.includes(r.Y.CHANGE_PASSWORD),this.item=this.globalService.options.forgotPassword,this.prepareOptions(),this.prepareTexts(),this.prepareChangePassToken()}prepareOptions(){this.formInputOptions={card:{border:"1px solid #ccc",bgColor:"#fff",borderRadius:u.borderRadiusMedium,boxShadow:"0 2px 8px #eee"}},this.formOptions={submitBtnColor:{darkColor:u.colorPrimary,lightColor:u.colorPrimary}}}prepareTexts(){this.changePasswordMode?(this.title="Change Password",this.description="Enter a new password for your account",this.submitBtnText="Change Password"):(this.title="Forgot Password",this.description="Enter the email address associated with your account",this.submitBtnText="Submit")}prepareChangePassToken(){if(this.changePasswordMode){const i=this._navigationService.getQueryParams(this._activatedRoute);i&&i.visit_token?this.changePassToken=i:this._navigationService.navigate(this._router,["auth",r.Y.FORGOT_PASSWORD])}}};S.\u0275fac=function(i){return new(i||S)(e.Y36(g),e.Y36(I.ux),e.Y36(f.f),e.Y36(d.OG),e.Y36(m.gz),e.Y36(m.F0),e.Y36(p.qu))},S.\u0275cmp=e.Xpm({type:S,selectors:[["view-login-forgot-password"]],decls:9,vars:12,consts:[["id","main",3,"centerVertical","centerHorizontal"],["id","title"],["id","description"],["id","form",3,"formGroup","options","submitBtnText","submitBtnLoading","outputOnSubmit"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"formCtrlName","icon","title","options",4,"ngIf"],[3,"formCtrlName","icon","title","options"],["directiveViewFormInput","",3,"type","formControlName","placeholder"]],template:function(i,t){1&i&&(e.TgZ(0,"view-column",0)(1,"strong",1),e._uU(2),e.qZA(),e.TgZ(3,"p",2),e._uU(4),e.qZA(),e.TgZ(5,"view-form",3),e.NdJ("outputOnSubmit",function(s){return t.onFormSubmit(s)}),e.YNc(6,Qe,2,1,"ng-container",4),e.qZA(),e.TgZ(7,"a",5),e._uU(8,"Create New Account"),e.qZA()()),2&i&&(e.Q6J("centerVertical","center")("centerHorizontal","center"),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("formGroup",t.form)("options",t.formOptions)("submitBtnText",t.submitBtnText)("submitBtnLoading",t.submitBtnLoading),e.xp6(1),e.Q6J("ngForOf",t.item.fields),e.xp6(1),e.Q6J("routerLink",e.VKq(10,Ge,t.enumPages.SIGN_UP)))},dependencies:[l.sg,l.O5,m.yS,U.e,M.I,Y.E,Z.d,p.Fj,p.JJ,p.JL,p.sg,p.u],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}#main[_ngcontent-%COMP%]{width:100%;height:100%}#main[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-size:2.4em;color:#004366;margin-bottom:.5em}#main[_ngcontent-%COMP%]   #description[_ngcontent-%COMP%]{margin:0 0 2em;padding:0}#main[_ngcontent-%COMP%]   #form[_ngcontent-%COMP%]{width:320px;margin-bottom:1em}#main[_ngcontent-%COMP%]   #form[_ngcontent-%COMP%]   #resend-code[_ngcontent-%COMP%]{width:100%;display:flex;text-align:center;justify-content:center;margin-top:1em;cursor:pointer}"]}),S=(0,_.gn)([(0,v.c)({checkProperties:!0}),(0,_.w6)("design:paramtypes",[g,I.ux,f.f,d.OG,m.gz,m.F0,p.qu])],S);let G=(()=>{class n{constructor(t){this._httpApiService=t}invite(t){this._httpApiService.callApiService("/invites",d.fn.POST,{affiliate_code:t}).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.OG))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Re=c(1973),R=c(6647),He=c(1053),H=c(3352);function De(n,i){if(1&n&&e._UZ(0,"view-image",8),2&n){const t=e.oxw();e.Q6J("src",t.logo)("imageSize","196@196")("defaultImage","./assets/images/pre-loaded-long-rectangle-80-27.png")("imageToShowOnError","./assets/images/pre-loaded-long-rectangle-80-27.png")("height","100%")}}function ze(n,i){1&n&&(e.TgZ(0,"strong",9),e._uU(1,"Your Logo"),e.qZA())}const qe=function(){return[""]};let je=(()=>{class n{constructor(t){this.globalService=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-login-header"]],inputs:{logo:"logo",customTemplate:"customTemplate"},decls:13,vars:10,consts:[[1,"icon-wrapper",3,"click"],[1,"icon"],[3,"width"],["id","logo-wrapper"],[3,"routerLink"],[3,"src","imageSize","defaultImage","imageToShowOnError","height",4,"ngIf","ngIfElse"],["showProjectName",""],[1,"icon-wrapper"],[3,"src","imageSize","defaultImage","imageToShowOnError","height"],[1,"logo"]],template:function(t,o){if(1&t&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return o.globalService.doBackClick()}),e.TgZ(1,"mat-icon",1),e._uU(2,"keyboard_backspace"),e.qZA()(),e._UZ(3,"view-delimiter",2),e.TgZ(4,"div",3)(5,"a",4),e.YNc(6,De,1,5,"view-image",5),e.YNc(7,ze,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e._UZ(9,"view-delimiter",2),e.TgZ(10,"div",7)(11,"mat-icon",1),e._uU(12,"east"),e.qZA()()),2&t){const s=e.MAs(8);e.Udp("visibility","visible"),e.xp6(3),e.Q6J("width","1em"),e.xp6(2),e.Q6J("routerLink",e.DdM(9,qe)),e.xp6(1),e.Q6J("ngIf",o.logo)("ngIfElse",s),e.xp6(3),e.Q6J("width","1em"),e.xp6(1),e.Udp("visibility","hidden")}},dependencies:[l.O5,m.yS,k.O,A.s,F.Hw],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:28px}.icon-wrapper[_ngcontent-%COMP%]{display:block;border-radius:50%;box-shadow:0 0 9.5px .5px #00000005,0 5px 50px #0000000d;background-color:#fff;padding:.6em;transition:all .25s ease-in-out}.icon-wrapper[_ngcontent-%COMP%]:hover{box-shadow:0 0 9.5px .5px #0000000d,0 5px 50px #00000014}.icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;background-color:#004366;border-radius:50%;font-size:18px;padding:3px}#logo-wrapper[_ngcontent-%COMP%]{flex:1;height:100%;display:flex;align-items:center;justify-content:center;text-align:center}#logo-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%}"]}),n})();function We(n,i){if(1&n&&(e.ynx(0),e.GkF(1,2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.customTemplate)}}const $e=function(){return["signup"]},Ke=function(){return["login"]};function Xe(n,i){if(1&n&&(e.TgZ(0,"strong"),e._uU(1,"Already have an account?"),e.qZA(),e._UZ(2,"view-delimiter",3),e.TgZ(3,"a",4)(4,"strong"),e._uU(5),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("width","0.5em"),e.xp6(1),e.Q6J("routerLink",t.navigationService.currentUrl.includes(t.enumPages.SIGN_IN)?e.DdM(3,$e):e.DdM(4,Ke)),e.xp6(2),e.Oqu(t.navigationService.currentUrl.includes(t.enumPages.SIGN_IN)?"Sign up":"Log in")}}let et=(()=>{class n{constructor(t){this.navigationService=t}get enumPages(){return r.Y}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-login-footer"]],inputs:{customTemplate:"customTemplate"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["ordinaryTemplate",""],[3,"ngTemplateOutlet"],[3,"width"],[3,"routerLink"]],template:function(t,o){if(1&t&&(e.YNc(0,We,2,1,"ng-container",0),e.YNc(1,Xe,6,5,"ng-template",null,1,e.W1O)),2&t){const s=e.MAs(2);e.Q6J("ngIf",o.customTemplate)("ngIfElse",s)}},dependencies:[l.O5,l.tP,m.yS,A.s],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;padding-bottom:1em}"]}),n})();function tt(n,i){if(1&n&&e._UZ(0,"view-login-header",4),2&n){const t=e.oxw();e.Q6J("logo",t.globalService.design.logo)("customTemplate",t.headerCustomTemplate)}}function it(n,i){if(1&n&&e._UZ(0,"view-login-footer",5),2&n){const t=e.oxw();e.Q6J("customTemplate",t.footerCustomTemplate)}}function nt(n,i){if(1&n&&e._UZ(0,"view-image",6),2&n){const t=e.oxw();e.Q6J("src",t.deviceService.isDesktop()?t.design.background_desktop:t.design.background_mobile)("imageSize","196@196")("defaultImage","./assets/images/pre-loaded-long-rectangle-80-27.png")("imageToShowOnError","./assets/images/pre-loaded-long-rectangle-80-27.png")("width","100%")("height","100%")}}let b=class{constructor(i,t,o,s,a,h,x){this._globalService=i,this.router=t,this._location=o,this.dirService=s,this.elementRef=a,this.deviceService=h,this.navigationService=x,this.outputOnLoggedIn=new e.vpe}get enumPages(){return r.Y}get hostElement(){return this.elementRef.nativeElement}get globalService(){return this._globalService}ngOnInit(){this.prepareStaticData(),this.prepareListeners()}prepareListeners(){this.observeUrlChange(),this.onBackClick(),this._globalService.onLoggedIn$.subscribe(i=>this.onLoggedIn(i))}observeUrlChange(){this.subscriptionUrlChange=this.navigationService.prevAndCurrUrl$.pipe((0,v.t)(this)).subscribe(i=>{this.onUrlChange(i)})}onUrlChange(i){this.updateCurrAndPrevPage(i)}onBackClick(){this.subscriptionBackClick=this._globalService.onBackClick$.pipe((0,v.t)(this)).subscribe(i=>{i===(r.Y.HOME||r.Y.SIGN_IN||r.Y.SIGN_UP||r.Y.FORGOT_PASSWORD)&&this._location.back()})}onLoggedIn(i){this.outputOnLoggedIn.emit(i)}prepareStaticData(){this.globalService.initialUrl=this.navigationService.previousUrl||this.navigationService.currentUrl,this.prepareOptions(),this.updateCurrAndPrevPage({currentUrl:this.navigationService.currentUrl,previousUrl:this.navigationService.previousUrl}),this.prepareDesign()}updateCurrAndPrevPage(i){const t=i.currentUrl.substring(i.currentUrl.lastIndexOf("/")+1);this._globalService.currentPage=(0,He.Wz)(r.Y).includes(t)?t:r.Y.HOME,i.previousUrl&&(this._globalService.previousPage=i.previousUrl.substring(i.previousUrl.lastIndexOf("/")+1)),this.handleSkips(),this.handleHeaderAndFooter()}prepareOptions(){this.options=(0,N.WP)({skipHome:!1,hideHeader:!1,hideFooter:!1,skipSignupCodeVerification:!1,skipLoginCodeVerification:!0,signup:{types:["email","google","facebook","trustwallet","tronlink"],items:{email:{image:"./assets/icons/email-48.png",text:"Sign up with Email address",needVerification:!0,fields:[{type:"text",name:"firstname",title:"FIRST NAME",placeholder:"Ex. Bob",icon:"person",hideInLogin:!0,validators:[{name:"required"},{name:"minlength",value:3},{name:"maxlength",value:32},{name:"charOnly"}]},{type:"text",name:"lastname",title:"LAST NAME",placeholder:"Ex. Johnson",icon:"group",hideInLogin:!0,validators:[{name:"required"},{name:"minlength",value:3},{name:"maxlength",value:32},{name:"charOnly"}]},{type:"email",name:"email",title:"EMAIL ADDRESS",placeholder:"example@gmail.com",icon:"mail",validators:[{name:"required"}]},{type:"password",name:"password",title:"PASSWORD",placeholder:"Ex. 1!aA34[?S",icon:"lock",validators:[{name:"required"},{name:"minlength",value:6},{name:"maxlength",value:32}]},{type:"password",name:"confirmPassword",title:"CONFIRM PASSWORD",placeholder:"Confirm your password",icon:"enhanced_encryption",hideInLogin:!0,validators:[{name:"required"},{name:"minlength",value:6},{name:"maxlength",value:32}]}]},google:{image:"./assets/icons/google-48.png",text:"Sign up with Google"},facebook:{image:"./assets/icons/facebook-48.png",text:"Sign up with Facebook"},tronlink:{image:"./assets/icons/tronlink-48.png",text:"Connect with TronLink"},trustwallet:{image:"./assets/icons/trustwallet-48.png",text:"Connect with Trust Wallet"}}},codeVerification:{fields:[{type:"number",name:"codeVerification",title:"VERIFICATION CODE",placeholder:"Ex. 376244",icon:"verified_user",validators:[{name:"required"},{name:"size",value:6},{name:"numOnly"}]}]},forgotPassword:{fields:[{type:"email",name:"email",title:"EMAIL ADDRESS",placeholder:"example@gmail.com",icon:"mail",validators:[{name:"required"},{name:"email"}]},{type:"password",name:"password",title:"NEW PASSWORD",placeholder:"Ex. 1!aA34[?S",icon:"lock",validators:[{name:"required"},{name:"strongPass"},{name:"minlength",value:8},{name:"maxlength",value:32}]},{type:"password",name:"confirmPassword",title:"CONFIRM NEW PASSWORD",placeholder:"Confirm your new password",icon:"enhanced_encryption",validators:[{name:"required"},{name:"strongPass"},{name:"minlength",value:8},{name:"maxlength",value:32}]}]}},this.options||{}),this._globalService.options=this.options}prepareDesign(){this.design=(0,N.WP)({background_desktop:u.appBgColor,background_mobile:u.appBgColor,submitBtnColor:{lightColor:u.colorSecondary,darkColor:u.colorPrimary},home:{title:"Start Exploring!",subTitle:"Choose login or signup to star exploring"}},this.design||{}),this._globalService.design=this.design,this.deviceService.isDesktop()&&!this.design.background_desktop.includes("/")&&(this.hostElement.style.background=this.design.background_desktop),!this.deviceService.isDesktop()&&!this.design.background_mobile.includes("/")&&(this.hostElement.style.background=this.design.background_mobile)}handleSkips(){this.options.skipHome&&this._globalService.currentPage===r.Y.HOME&&this.navigationService.navigate(this.router,[this.navigationService.currentUrl,r.Y.SIGN_IN],{replaceUrl:!0})}handleHeaderAndFooter(){this._globalService.currentPage===r.Y.HOME?this._globalService.hideHeaderAndFooter():this._globalService.showHeaderAndFooter()}ngOnDestroy(){this.subscriptionUrlChange&&this.subscriptionUrlChange.unsubscribe(),this.subscriptionBackClick&&this.subscriptionBackClick.unsubscribe()}};b.\u0275fac=function(i){return new(i||b)(e.Y36(g),e.Y36(m.F0),e.Y36(l.Ye),e.Y36(R.x),e.Y36(e.SBq),e.Y36(H.U),e.Y36(f.f))},b.\u0275cmp=e.Xpm({type:b,selectors:[["view-login"]],inputs:{options:"options",design:"design",headerCustomTemplate:"headerCustomTemplate",footerCustomTemplate:"footerCustomTemplate"},outputs:{outputOnLoggedIn:"outputOnLoggedIn"},features:[e._Bn([g])],decls:5,vars:3,consts:[[3,"logo","customTemplate",4,"ngIf"],["id","main"],[3,"customTemplate",4,"ngIf"],["id","bg-image",3,"src","imageSize","defaultImage","imageToShowOnError","width","height",4,"ngIf"],[3,"logo","customTemplate"],[3,"customTemplate"],["id","bg-image",3,"src","imageSize","defaultImage","imageToShowOnError","width","height"]],template:function(i,t){1&i&&(e.YNc(0,tt,1,2,"view-login-header",0),e.TgZ(1,"div",1),e._UZ(2,"router-outlet"),e.qZA(),e.YNc(3,it,1,1,"view-login-footer",2),e.YNc(4,nt,1,6,"view-image",3)),2&i&&(e.Q6J("ngIf",!t.globalService.options.hideHeader),e.xp6(3),e.Q6J("ngIf",!t.globalService.options.hideFooter),e.xp6(1),e.Q6J("ngIf",t.design.background_mobile.includes("/")&&t.design.background_desktop.includes("/")))},dependencies:[l.O5,m.lC,k.O,je,et],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100vh;padding:3em 1.5em}#main[_ngcontent-%COMP%]{flex:1}#bg-image[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:fixed;top:0;left:0;object-fit:cover;background-size:cover;z-index:-1}"]}),b=(0,_.gn)([(0,v.c)({checkProperties:!0}),(0,_.w6)("design:paramtypes",[g,m.F0,l.Ye,R.x,e.SBq,H.U,f.f])],b);const ot=[{path:"",component:(()=>{class n{constructor(t,o){this._localStorageService=t,this._apiService=o}ngOnInit(){this.prepareStaticData()}onLoggedIn(t){const o=this._localStorageService.getItem("user_affiliate_code");o&&this._apiService.invite(o)}prepareStaticData(){this.prepareLoginDesign()}prepareLoginDesign(){this.loginDesign={logo:"./assets/logo/logo-thanx-finance.png",background_desktop:"./assets/images/login-bg-desktop.png",background_mobile:"./assets/images/login-bg-mobile.png",submitBtnColor:{lightColor:u.colorPrimary,darkColor:u.colorPrimary},home:{title:"Shop & Get up to 20% back in Crypto",subTitle:null}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Re.n),e.Y36(G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["thanx-login"]],features:[e._Bn([G])],decls:1,vars:1,consts:[[3,"design","outputOnLoggedIn"]],template:function(t,o){1&t&&(e.TgZ(0,"view-login",0),e.NdJ("outputOnLoggedIn",function(a){return o.onLoggedIn(a)}),e.qZA()),2&t&&e.Q6J("design",o.loginDesign)},dependencies:[b]}),n})(),children:[{path:"",component:K},{path:r.Y.SIGN_IN,component:Ve},{path:r.Y.SIGN_UP,component:w},{path:r.Y.FORGOT_PASSWORD,component:S},{path:r.Y.CHANGE_PASSWORD,component:S}]}];let st=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(ot),m.Bz]}),n})();var rt=c(3174),D=c(4528),at=c(4697),ct=c(6321),lt=c(8857),pt=c(7030),gt=c(4395),ut=c(3206);let mt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,D.B]}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,m.Bz,rt.B,D.B,F.Ps,at.R,ct.r,lt.d,pt.C,gt.J,p.UX,ut.S,fe,mt,T.RB]}),n})(),ht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,st,dt]}),n})()}}]);